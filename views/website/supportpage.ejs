<%- include('webheader') %>
    <div class="support__section section_padd">
        <h1 class="h2_">Guide to the app</h1>
        <div class="c">
            <div class="row align_center">
                <div class="col col_40">
                    <img src="/assets/images/web/support_.png" class="support__img" alt="Guide to the app">
                </div>
                <div class="col col_60">
                    <div class="choose_content">
                        <ul>
                            <li><span>Download the app</span> for a quick intro with splash screens.</li>
                            <li><span>Sign up</span> in seconds with your name, email, and phone number.</li>
                            <li><span>Verify your number</span> by entering the OTP sent to your phone.</li>
                            <li><span>That’s it!</span> You’re all set to book your ride and start your journey.</li>
                        </ul>
                            <div class="txt_center mt_top">
                            <a href="/" tabindex="0"><img src="/assets/images/web/play.png" class="store_img"
                                    alt="Guide to the app"></a>
                            <a href="/" tabindex="0"><img src="/assets/images/web/app.png" class="store_img"
                                    alt="Guide to the app"></a>
                        </div> 
                     </div> 
                </div>
            </div>
        </div>
    </div>
    <div class="trip_section section_padd">
        <div class="c">
            <h2 class="h2_">Local trips</h2>
            <div class="row">
                <div class="col col_2">
                    <div class="trip_section_inner mr_25">
                        <div class="trip_section_inner_img">
                            <img src="/assets/images/web/trip1.png" class="trip_img" alt="One-Way Trip">
                            <img src="/assets/images/web/trip_icon1.png" class="trip_icon_img" alt="One-Way Trip">
                        </div>
                        <h3>One-Way Trip</h3>
                        <p>Need to get somewhere fast? Our one-way trip service is just what you need. Whether it’s a
                            quick ride across town or getting to an appointment, we’ll get you to your destination, no
                            strings attached—just a simple and hassle-free ride</p>
                    </div>
                </div>
                <div class="col col_2">
                    <div class="trip_section_inner ml_25">
                        <div class="trip_section_inner_img">
                            <img src="/assets/images/web/trip2.png" class="trip_img" alt="Scheduled Trip">
                            <img src="/assets/images/web/trip_icon2.png" class="trip_icon_img" alt="Scheduled Trip">
                        </div>
                        <h3>Scheduled Trip</h3>
                        <p>Why rush when you can plan ahead? With our scheduled trip service, you can book your ride in
                            advance and rest easy knowing a driver will be there when you need them. It’s great for
                            those busy days or when timing is everything!</p>
                    </div>
                </div>
            </div>
            <h2 class="h2_ mt_htop">Outstation trips</h2>
            <div class="row">
                <div class="col col_2">
                    <div class="trip_section_inner mr_25">
                        <div class="trip_section_inner_img">
                            <img src="/assets/images/web/trip3.png" class="trip_img" alt="One-Way Outstation Trip">
                            <img src="/assets/images/web/trip_icon1.png" class="trip_icon_img"
                                alt="One-Way Outstation Trip">
                        </div>
                        <h3>One-Way Outstation Trip</h3>
                        <p>Heading out of town? Our one-way outstation service is perfect for longer distances. Whether
                            it's a business trip or a family visit, we'll take you to your destination safely and
                            comfortably, without worrying about the return journey. </p>
                    </div>
                </div>
                <div class="col col_2">
                    <div class="trip_section_inner ml_25">
                        <div class="trip_section_inner_img">
                            <img src="/assets/images/web/trip4.png" class="trip_img" alt="Two-way Outstation Trip">
                            <img src="/assets/images/web/trip_icon3.png" class="trip_icon_img"
                                alt="Two-way Outstation Trip">
                        </div>
                        <h3>Two-way Outstation Trip</h3>
                        <p>For those needing to travel longer distances and return the same day or later, our round trip
                            outstation service is ideal. Your driver will take you to your destination and bring you
                            back when you're ready, giving you peace of mind for the entire journey</p>
                    </div>
                </div>
            </div>
            <h2 class="h2_ mt_htop">Scheduled Trip</h2>
            <div class="row align_center car_schedule">
                <img src="/assets/images/web/car_schedule.png" class="car_schedule_img" alt="Scheduled Trip">
                <div class="col col_80">
                    <div class="trip_section_inner">
                        <p>Planning a longer trip out of the city? With our scheduled outstation service, you can book
                            in advance and make sure you have a reliable driver for your journey. Whether it’s for a
                            holiday or a special occasion, we’re ready to take you the distance, whenever you need</p>
                    </div>
                </div>
            </div>
            <h2 class="h2_ mt_htop">Connect with us</h2>
            <h4 class="connect_h">Any question or remarks? Don’t hesitate to message!</h4>
            <div class="row align_center connect_section">
                <div class="col col_40 pl_0">
                    <div class="bg_green">
                        <h4>Contact Information</h4>
                        <div class="connect_info">
                            <i class="fa-solid fa-phone-volume"></i>
                            <p><a href="tel:+9194423 84156" tabindex="0">+91 94423 84156</a></p>
                        </div>
                        <div class="connect_info">
                            <i class="fa-solid fa-envelope"></i>
                            <p><a href="mailto:customersupport@cabocab.co.in"
                                    tabindex="0">customersupport@cabocab.co.in</a></p>
                        </div>
                        <div class="connect_info">
                            <i class="fa-solid fa-location-dot"></i>
                            <p class="mb_bot">CABOCAB <br>
                               
                             Loyola Incubation,Loyola Institute Of Technology and Science,Loyola Nagar,  Thovalai-Rajavoor Road-629 302,
                           Kanyakumari District, Tamilnadu </p>
                        </div>
                        <img src="/assets/images/web/connect_img.svg" class="connect_img" alt="Contact Information">
                    </div>
                </div>
                <div class="col col_60">
                    <div class="connect_form">
                        <form id="supportForm">
                            <div class="row">
                                <div class="col col_2">
                                    <div class="input-group">
                                        <label>First Name</label>
                                        <input type="text" class="input_field_item" placeholder="Enter First Name"
                                            aria-label="First Name" name="firstName" tabindex="0" id="firstName"
                                            required onkeypress="return isTextKey(event)">
                                        <span class="highlight"></span>
                                        <span class="bar"></span>
                                    </div>
                                    <p id="firstName_err" class="contact_err"></p>
                                </div>
                                <div class="col col_2">
                                    <div class="input-group">
                                        <label>Last Name</label>
                                        <input type="text" class="input_field_item" placeholder="Enter Last Name"
                                            aria-label="Last Name" name="lastName" id="lastName" tabindex="0" required
                                            onkeypress="return isTextKey(event)">
                                        <span class="highlight"></span>
                                        <span class="bar"></span>
                                    </div>
                                    <p id="lastName_err" class="contact_err"></p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col col_2">
                                    <div class="input-group">
                                        <label>Email</label>
                                        <input type="email" class="input_field_item" placeholder="Enter Email"
                                            aria-label="Email" name="email" id="useremail" tabindex="0" required>
                                        <span class="highlight"></span>
                                        <span class="bar"></span>
                                    </div>
                                    <p id="email_err" class="contact_err"></p>
                                </div>
                                <div class="col col_2">
                                    <div class="input-group">
                                        <label>Phone Number</label>
                                        <input type="text" class="input_field_item" placeholder="Enter Phone Number"
                                            aria-label="Phone Number" name="mobileNumber" id="mobileNumber" tabindex="0"
                                            required onkeypress="return isNumber(event)">
                                        <span class="highlight"></span>
                                        <span class="bar"></span>
                                    </div>
                                    <p id="mobileNumber_err" class="contact_err"></p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col col_1">
                                    <div class="input-group">
                                        <label>Message</label>
                                        <input type="text" class="input_field_item" placeholder="Enter Message"
                                            aria-label="Message" name="message" id="message" tabindex="0" required
                                            onkeypress="return isTextKey(event)">
                                        <span class="highlight"></span>
                                        <span class="bar"></span>
                                    </div>
                                    <p id="message_err" class="contact_err"></p>
                                </div>
                            </div>
                            <div class="txt_right connect_btn">
                                <button type="submit" class="submit_btn" tabindex="0">Send Message</button>
                            </div>
                        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <style>
        .input-group {
            margin-bottom: 0px !important;
        }

        .contact_err {
            color: red;
            font-size: 12px !important;
            font-weight: 700 !important;
            margin-bottom: 5px !important;
        }
    </style>
<script>
    document.getElementById('supportForm').addEventListener('submit', function (event) {
        event.preventDefault();

        // Collect form values
        const firstName = document.getElementById('firstName').value.trim();
        const lastName = document.getElementById('lastName').value.trim();
        const email = document.getElementById('useremail').value.trim();
        const mobileNumber = document.getElementById('mobileNumber').value.trim();
        const message = document.getElementById('message').value.trim();

        // Reset errors
        clearErrors();

        // Validate the form and display errors
        let isValid = true;

        // Utility function to check for letters and spaces
        const isTextValid = (text) => /^[A-Za-z\s]+$/.test(text);

        // First Name validation
        if (!firstName) {
            displayError('firstName_err', 'First name is required');
            isValid = false;
        } else if (!isTextValid(firstName)) {
            displayError('firstName_err', 'First name can only contain letters and spaces');
            isValid = false;
        }

        // Last Name validation
        if (!lastName) {
            displayError('lastName_err', 'Last name is required');
            isValid = false;
            return false;
        } else if (!isTextValid(lastName)) {
            displayError('lastName_err', 'Last name can only contain letters and spaces');
            isValid = false;
            return false;
        }

        // Email validation
        const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.(com|org|in|net|edu|gov|co)$/;
        if (!email) {
            displayError('email_err', 'Email is required');
            isValid = false;
            return false;
        } else if (!emailPattern.test(email)) {
            displayError('email_err', 'Please enter a valid email');
            isValid = false;
            return false;
        }

        // Mobile Number validation (10 digits)
        const mobilePattern = /^[0-9]{10}$/;
        if (!mobileNumber) {
            displayError('mobileNumber_err', 'Phone number is required');
            isValid = false;
            return false;
        } else if (!mobilePattern.test(mobileNumber)) {
            displayError('mobileNumber_err', 'Please enter a valid mobile number');
            isValid = false;
            return false;
        }

        // Message validation
        if (!message) {
            displayError('message_err', 'Message is required');
            isValid = false;
            return false;
        } else if (!isTextValid(message)) {
            displayError('message_err', 'Message can only contain letters and spaces');
            isValid = false;
            return false;
        }

        // If any validation fails, stop form submission
        if (!isValid) return;

        // Form data to be sent
        const formData = {
            firstName: firstName,
            lastName: lastName,
            email: email,
            mobileNumber: mobileNumber,
            message: message
        };

        // Show loader
        document.querySelector('.loader').style.display = 'flex';

        // Send data to server
        axios.post(API_URL + '/user/submit/support', formData)
            .then(response => {
                const status = response.data.status;
                if (status === 'Success') {
                    showToast(response.data.message, 200); // Show success message
                    document.getElementById('supportForm').reset(); // Reset the form
                } else {
                    showToast(response.data.message, 400); // Show error message
                }
            })
            .catch(error => {
                handleError(error); // Handle any errors
            })
            .finally(() => {
                // Hide loader
                document.querySelector('.loader').style.display = 'none';
            });
    });

    // Utility function to display error messages
    function displayError(elementId, message) {
        document.getElementById(elementId).textContent = message;
    }

    function clearErrors() {
        const errorElements = document.querySelectorAll('.error');
        errorElements.forEach(function (el) {
            el.textContent = '';
        });
    }
</script>

    <%- include('webfooter') %>